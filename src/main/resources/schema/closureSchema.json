{
  "$id": "/schema/base",
  "type": "object",
   "allOf": [
    { "$ref": "file:src/main/resources/schema/baseSchema.json" },
    {
      "if": {
        "properties": {
          "closure_type": {
            "const": "open_on_transfer"
          }
        }
      },
      "then": {
        "properties": {
          "closure_period": {
            "const": 0
          }
        }
      }
    },
    {
      "if": {
        "properties": {
          "closure_type": {
            "const": "open_on_transfer"
          }
        }
      },
      "else": {
        "properties": {
          "closure_period": {
            "type": "number"
          }
        }
      }
    }
  ],
  "dependencies": {
    "closure_type": [
      "closure_period"
    ]
  }
}